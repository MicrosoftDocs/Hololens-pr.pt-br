---
title: Separação e isolamento de estado
description: Separação e isolamento de estado
author: evmill
ms.author: v-evmill
ms.reviewer: tagran
ms.date: 6/30/2020
ms.topic: article
keywords: segurança, hololens, separação de estado, separação e isolamento de estado, hololens 2, hololens2, segurança, visão geral de segurança, arquitetura de segurança, arquitetura, arquitetura do hololens 2
ms.prod: hololens
ms.sitesec: library
ms.localizationpriority: high
manager: yannisle
appliesto:
- HoloLens 2
ms.openlocfilehash: 702b713b7a930a2e4909dffaa895856d918d11c9
ms.sourcegitcommit: 72ff3174b34d2acaf72547b7d981c66aef8fa82f
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/10/2020
ms.locfileid: "11009409"
---
# <span data-ttu-id="a56d7-104">Separação e isolamento de estado</span><span class="sxs-lookup"><span data-stu-id="a56d7-104">State separation and isolation</span></span>

<span data-ttu-id="a56d7-105">A separação e o isolamento de estado protegem partes críticas do sistema operacional do Hololens 2, como aquelas necessárias para que o sistema operacional seja inicializado em um estado confiável.</span><span class="sxs-lookup"><span data-stu-id="a56d7-105">State separation and isolation protects critical portions of the Hololens 2 operating system from change – such as those required for the operating system to boot into a trusted state.</span></span> <span data-ttu-id="a56d7-106">Com a tecnologia de isolamento, os aplicativos não confiáveis são movidos para um ambiente de área restrita isolada, para garantir que eles não afetarão a segurança do sistema.</span><span class="sxs-lookup"><span data-stu-id="a56d7-106">With isolation technology, untrusted apps are moved to an isolated sandbox environment, to ensure that they do not affect system security.</span></span>

## <span data-ttu-id="a56d7-107">Separação de estado</span><span class="sxs-lookup"><span data-stu-id="a56d7-107">State separation</span></span>

<span data-ttu-id="a56d7-108">A separação de estado no HoloLens 2 melhora imensamente a segurança e a operacionalidade (atualização) e ajuda a proteger seus dados de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a56d7-108">State separation on HoloLens 2 vastly improves security and serviceability (updating) and helps protect your application data.</span></span>  <span data-ttu-id="a56d7-109">Separação de estado funciona da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="a56d7-109">State separation works as follows:</span></span>
  * <span data-ttu-id="a56d7-110">O sistema operacional principal é armazenado no volume do sistema operacional principal (um SO da Microsoft confiável ou verificado atualizando o sistema operacional).</span><span class="sxs-lookup"><span data-stu-id="a56d7-110">The core operating system is stored in the core operating system volume (trusted or verified Microsoft OS updating the operating system).</span></span>
  * <span data-ttu-id="a56d7-111">As partes do sistema operacional que podem ser alteradas no tempo de execução (como configurações e drivers para baixar), usam separação de estado adicional para particionar os dados e armazená-los em locais de armazenamento seguros e separados.</span><span class="sxs-lookup"><span data-stu-id="a56d7-111">The portions of the operating system that can be changed at run time (such as downloadable drivers and configurations), use further state separation to partition the data, and to store it in secure, separate storage locations.</span></span>
  * <span data-ttu-id="a56d7-112">Cada local de armazenamento seguro tem políticas de segurança distintas associadas a eles, oferecendo diversas vantagens de segurança, conforme detalhado na seção a seguir.</span><span class="sxs-lookup"><span data-stu-id="a56d7-112">Each secure storage location has distinct security policies associated with it, offering varied security advantages as detailed in the following section.</span></span>

## <span data-ttu-id="a56d7-113">Benefícios da separação de estado</span><span class="sxs-lookup"><span data-stu-id="a56d7-113">State separation benefits</span></span>

  * <span data-ttu-id="a56d7-114">Segurança: a separação de estado em destaque no HoloLens 2 melhora significativamente a integridade da plataforma, a resistência contra malware e a proteção de dados do usuário.</span><span class="sxs-lookup"><span data-stu-id="a56d7-114">Security: The state separation featured in HoloLens 2 significantly improves platform integrity, malware resistance and user data protection.</span></span> <span data-ttu-id="a56d7-115">Ao separar a parte inalterável do sistema operacional e torná-la somente para leitura ou com integridade protegida, a separação de estado torna extremamente difícil para o malware persistir na reinicialização a frio.</span><span class="sxs-lookup"><span data-stu-id="a56d7-115">By separating the unalterable part of the operating system and making it read-only or integrity protected, state separation makes it extremely difficult for malware to persist across a cold reboot.</span></span> 
  * <span data-ttu-id="a56d7-116">Atualizações: com o HoloLens 2, uma vez que o sistema operacional principal não é modificável e foi corretamente separado do restante dos dados no dispositivo, as atualizações são simples e confiáveis.</span><span class="sxs-lookup"><span data-stu-id="a56d7-116">Updates: With HoloLens 2, once the core operating system is unmodifiable and has been cleanly separated from the rest of the data on the device, updates become simple and reliable.</span></span>  <span data-ttu-id="a56d7-117">Além disso, a separação de estado cria os alicerces vitais para atualizações muito mais rápidas, o que permite que o sistema operacional seja substituído em uma única etapa (unidade atômica).</span><span class="sxs-lookup"><span data-stu-id="a56d7-117">In addition, state separation lays the vital groundwork for dramatically faster updates, which permits the operating system to be replaced in a single step (atomic unit).</span></span>
  * <span data-ttu-id="a56d7-118">Redefinição do dispositivo: a redefinição no HoloLens 2 limpa os dados gerados pelo usuário e os dados do aplicativo do usuário no dispositivo, incluindo locais de armazenamento internos e externos.</span><span class="sxs-lookup"><span data-stu-id="a56d7-118">Device reset: HoloLens 2 reset clears user generated data and user app data on the device – including internal and external storage locations.</span></span> <span data-ttu-id="a56d7-119">Preserva os aplicativos do sistema operacional atual e os aplicativos essenciais de segurança, além dos aplicativos personalizados da Microsoft e do OEM (pré-instalado).</span><span class="sxs-lookup"><span data-stu-id="a56d7-119">It preserves the current OS apps and security critical apps, and the current Microsoft and OEM customized apps (Preinstalled).</span></span> <span data-ttu-id="a56d7-120">Esses aplicativos pré-instalados podem ser reintegrados no dispositivo após a conclusão da redefinição.</span><span class="sxs-lookup"><span data-stu-id="a56d7-120">These Preinstalled apps can be rehydrated on the device after reset completes</span></span>

### <span data-ttu-id="a56d7-121">Etapas da separação de estado</span><span class="sxs-lookup"><span data-stu-id="a56d7-121">State separation states</span></span>

<span data-ttu-id="a56d7-122">A separação de estado assegura que o sistema operacional só possa ser alterado pelos componentes de dispositivos confiáveis da Microsoft e que somente o estado de alto valor tenha permissão para persistir entre reinicializações; outro estado de sistema existe somente durante a sessão de inicialização e é descartado após a reinicialização.</span><span class="sxs-lookup"><span data-stu-id="a56d7-122">State separation ensures the operating system can only be changed by Microsoft trusted device components and only high-value state is allowed to persist across reboots; other system state exists only for the duration of the boot session and is discarded after a reboot.</span></span> <span data-ttu-id="a56d7-123">A separação de estado retorna rapidamente o dispositivo de volta para o estado original de fabricação.</span><span class="sxs-lookup"><span data-stu-id="a56d7-123">Having state separation rapidly returns the device back to factory state.</span></span> <span data-ttu-id="a56d7-124">Os estados do Windows Holographic for Business podem ser divididos nestas categorias distintas:</span><span class="sxs-lookup"><span data-stu-id="a56d7-124">Windows Holographic for Business states can be divided into these distinct categories:</span></span>
  * <span data-ttu-id="a56d7-125">Sistema operacional principal – Estado inalterável</span><span class="sxs-lookup"><span data-stu-id="a56d7-125">Core operating system – Unalterable state</span></span>
  * <span data-ttu-id="a56d7-126">Dados do sistema operacional – Estado alterável</span><span class="sxs-lookup"><span data-stu-id="a56d7-126">Operating System Data – Alterable state</span></span> 
  * <span data-ttu-id="a56d7-127">Dados do usuário – Estado alterável</span><span class="sxs-lookup"><span data-stu-id="a56d7-127">User Data – Alterable state</span></span>

<span data-ttu-id="a56d7-128">Cada um desses estados operacionais do HoloLens 2 estão descritos na seção a seguir.</span><span class="sxs-lookup"><span data-stu-id="a56d7-128">Each of these HoloLens 2 operating states is described in the following section.</span></span>

#### <span data-ttu-id="a56d7-129">Sistema operacional principal</span><span class="sxs-lookup"><span data-stu-id="a56d7-129">Core operating system</span></span>

<span data-ttu-id="a56d7-130">Um estado imutável é formado por arquivos executáveis e dados inalteráveis e só podem ser alterados pela Microsoft durante a instalação das atualizações.</span><span class="sxs-lookup"><span data-stu-id="a56d7-130">An immutable state is comprised of executable files and data that are unalterable and can only be changed by Microsoft during the installation of updates.</span></span> <span data-ttu-id="a56d7-131">Durante tal atualização do sistema operacional principal, uma nova imagem contendo o mais recente estado de operação desejado será habilitada.</span><span class="sxs-lookup"><span data-stu-id="a56d7-131">During such an update of the core operating system, a new image containing the latest desired operating state is enabled.</span></span>
<span data-ttu-id="a56d7-132">O estado inalterável é marcado como somente leitura (ou é, caso contrário, com integridade protegida), evitando a persistência de qualquer malware com privilégios elevados.</span><span class="sxs-lookup"><span data-stu-id="a56d7-132">The unalterable state is marked as read-only (or is otherwise integrity-protected), preventing persistence of any malware with elevated privileges.</span></span> <span data-ttu-id="a56d7-133">Os seguintes arquivos e dados executáveis estão protegidos no estado imutável:</span><span class="sxs-lookup"><span data-stu-id="a56d7-133">The following executable files and data are protected in the immutable state:</span></span>
  * <span data-ttu-id="a56d7-134">Drivers originais do Windows Holographic</span><span class="sxs-lookup"><span data-stu-id="a56d7-134">Windows Holographic inbox drivers</span></span>
  * <span data-ttu-id="a56d7-135">Binários do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="a56d7-135">Operating system binaries</span></span>
  * <span data-ttu-id="a56d7-136">Drivers originais do Windows</span><span class="sxs-lookup"><span data-stu-id="a56d7-136">Windows inbox drivers</span></span>
  * <span data-ttu-id="a56d7-137">Configurações estáticas do Windows Holographic armazenadas no hive do registro do Windows (HKLM)</span><span class="sxs-lookup"><span data-stu-id="a56d7-137">Static Windows Holographic settings stored in Windows registry hive (HKLM)</span></span>
    * <span data-ttu-id="a56d7-138">Exemplo: HKLM armazena as informações de configuração para os aplicativos instalados em um computador.</span><span class="sxs-lookup"><span data-stu-id="a56d7-138">Example: HKLM stores the configuration information for the apps installed on a machine.</span></span> <span data-ttu-id="a56d7-139">Ele também armazena informações para detectar um hardware e os drivers correspondentes.</span><span class="sxs-lookup"><span data-stu-id="a56d7-139">It also stores information to detect hardware and the corresponding drivers.</span></span>
<span data-ttu-id="a56d7-140">Ao protegê-los no estado imutável (integridade e proteção de somente leitura), garantimos que o sistema operacional principal sempre Inicializa num estado confiável.</span><span class="sxs-lookup"><span data-stu-id="a56d7-140">By protecting these in the immutable (integrity and read-only protected) state, we ensure that the core operating system always boots into a trusted state.</span></span> <span data-ttu-id="a56d7-141">Além disso, quando um dispositivo é redefinido, podemos garantir que o dispositivo inicializará apenas nos componentes que estão nesta seção imutável.</span><span class="sxs-lookup"><span data-stu-id="a56d7-141">Additionally, when a device is reset, we can ensure that the device boots only into the components that are on this immutable section.</span></span> 

#### <span data-ttu-id="a56d7-142">Dados do sistema operacional</span><span class="sxs-lookup"><span data-stu-id="a56d7-142">Operating system data</span></span> 

<span data-ttu-id="a56d7-143">É importante observar que os arquivos e os dados executáveis que são alteráveis no tempo de execução (e que não são críticos para a função do sistema operacional) poderão ser descartados e recriados quando os dados estiverem corrompidos ou comprometidos.</span><span class="sxs-lookup"><span data-stu-id="a56d7-143">It is important to note that executable files and data that are changeable at runtime (and are not critical to the operating system function), can be discarded and re-created when the data is corrupted or compromised.</span></span> <span data-ttu-id="a56d7-144">O estado alterável de alto valor é necessário para persistir pelo sistema operacional ou é esperado que persista no desligamento do sistema operacional, e/ou entre reinicializações por cenários de dispositivos e de sistema operacional Windows com suporte.</span><span class="sxs-lookup"><span data-stu-id="a56d7-144">A high-value alterable state is either functionally required to persist by the operating system, or expected to persist across operating system shutdown, and/or across reboots by supported Windows operating system and device scenarios.</span></span> <span data-ttu-id="a56d7-145">Exemplos de estado mutável de alto valor são:</span><span class="sxs-lookup"><span data-stu-id="a56d7-145">Examples of high-value mutable state are:</span></span>
  * <span data-ttu-id="a56d7-146">O administrador de TI configurou as configurações do dispositivo global, como exemplo: desabilitar o local para todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="a56d7-146">IT Admin-configured global device settings, such as disabling the location for all users.</span></span>
  * <span data-ttu-id="a56d7-147">Conexão de rede Wi-Fi e acesso a senhas lembradas nos dispositivos de dados e senhas de conexão associadas.</span><span class="sxs-lookup"><span data-stu-id="a56d7-147">Wi-fi network connection access data-device-remembered networks and associated connection passwords.</span></span>
  * <span data-ttu-id="a56d7-148">Despejos de memória incluindo configurações e logs.</span><span class="sxs-lookup"><span data-stu-id="a56d7-148">Crash dumps including settings, logs.</span></span>
  * <span data-ttu-id="a56d7-149">Drivers baixados por demanda para dispositivos recém-descobertos.</span><span class="sxs-lookup"><span data-stu-id="a56d7-149">Drivers downloaded on-demand for newly discovered devices.</span></span>
<span data-ttu-id="a56d7-150">Um estado alterável de alto valor no HoloLens 2 fica no local de segurança de dados do sistema operacional como um arquivo salvo no disco ou em um registro hive persistente.</span><span class="sxs-lookup"><span data-stu-id="a56d7-150">A high-value alterable state on HoloLens 2 resides on the operating system Data security location, either as a saved file on disk or in a persisted registry hive.</span></span>

#### <span data-ttu-id="a56d7-151">Dados de usuários</span><span class="sxs-lookup"><span data-stu-id="a56d7-151">User data</span></span>

<span data-ttu-id="a56d7-152">A última categoria de estado representa os dados do usuário produzidos ou persistidos por aplicativos UWP ou do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="a56d7-152">The last category of state represents user data produced or persisted by UWP applications or the operating system.</span></span> <span data-ttu-id="a56d7-153">Todas as pastas de usuário conhecidas, como Downloads, Documentos, Vídeos, perfis de usuários e HKEY_CURRENT_USER hive, também são armazenadas neste local.</span><span class="sxs-lookup"><span data-stu-id="a56d7-153">All known user folders such as Downloads, Documents, Videos, user profiles and HKEY_CURRENT_USER hive are also stored in this location.</span></span> <span data-ttu-id="a56d7-154">Esses dados não podem ser extraídos sem credenciais adequadas; para saber mais sobre como seus dados estão protegidos, confira [Criptografia e Proteção de Dados](security-encryption-data-protection.md).</span><span class="sxs-lookup"><span data-stu-id="a56d7-154">This data cannot be extracted without proper credentials; to learn more about how your data is protected, see [Encryption and Data Protection](security-encryption-data-protection.md).</span></span>

##  <span data-ttu-id="a56d7-155">Isolamento</span><span class="sxs-lookup"><span data-stu-id="a56d7-155">Isolation</span></span>

<span data-ttu-id="a56d7-156">Para alcançar esse equilíbrio, o HoloLens 2 tem um sistema operacional principal que é usado para as principais funções, como inicialização, controle de hardware, logon, etc. Há apenas dois conjuntos de aplicativos em execução no sistema operacional principal — aplicativos pré-instalados e aplicativos UWP.</span><span class="sxs-lookup"><span data-stu-id="a56d7-156">To achieve this balance, HoloLens 2 has a core operating system that is used for primary functions such as booting up, hardware control, logging in etc. There are only two sets of applications that run on the core operating system – pre-installed applications and UWP apps.</span></span>

## <span data-ttu-id="a56d7-157">Assinatura de código</span><span class="sxs-lookup"><span data-stu-id="a56d7-157">Code signing</span></span>

<span data-ttu-id="a56d7-158">A assinatura de código digital permite a fundamentação que os executáveis e os scripts não foram modificados, já que eles foram assinados por uma fonte confiável, portanto fornecem autenticidade e integridade.</span><span class="sxs-lookup"><span data-stu-id="a56d7-158">Digitally signing code allows substantiation that executables and scripts have not been modified since they were signed by a trusted source therefore providing authenticity and integrity.</span></span> <span data-ttu-id="a56d7-159">As autoridades que o HoloLens 2 confia por padrão são a Microsoft e a Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="a56d7-159">The authorities that HoloLens 2 trusts by default are Microsoft and Microsoft Store.</span></span> <span data-ttu-id="a56d7-160">Os administradores de TI podem adicionar novos certificados ao dispositivo por meio do [ClientCertificateInstall](https://docs.microsoft.com/windows/client-management/mdm/clientcertificateinstall-csp) e [RootCATrustedCertificates](https://docs.microsoft.com/windows/client-management/mdm/rootcacertificates-csp) CSPs.</span><span class="sxs-lookup"><span data-stu-id="a56d7-160">IT administrators can add new certificates to the device through the [ClientCertificateInstall](https://docs.microsoft.com/windows/client-management/mdm/clientcertificateinstall-csp) and [RootCATrustedCertificates](https://docs.microsoft.com/windows/client-management/mdm/rootcacertificates-csp) CSPs.</span></span> <span data-ttu-id="a56d7-161">Eles também podem usar a [política de AllowAllTrustedApps](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-applicationmanagement#applicationmanagement-allowalltrustedapps) para confiar em sideload adicional ou [aplicativos de linha de negócios](https://docs.microsoft.com/intune/apps/lob-apps-windows).</span><span class="sxs-lookup"><span data-stu-id="a56d7-161">They can also use the [AllowAllTrustedApps policy](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-applicationmanagement#applicationmanagement-allowalltrustedapps) to trust additional sideloaded or [Line-of-business apps](https://docs.microsoft.com/intune/apps/lob-apps-windows).</span></span> <span data-ttu-id="a56d7-162">Os certificados residem no repositório de certificados do computador local, que é armazenado na HKLM/Root se estiverem usando "Dispositivo" ou em HKCU se estiverem usando "Usuário".</span><span class="sxs-lookup"><span data-stu-id="a56d7-162">Certificates reside in the local machine certificate store which is stored in HKLM/Root if using “Device” or in HKCU if using “User”.</span></span>

## <span data-ttu-id="a56d7-163">Proteções do Defender</span><span class="sxs-lookup"><span data-stu-id="a56d7-163">Defender protections</span></span>
<span data-ttu-id="a56d7-164">O HoloLens 2 usa os serviços Microsoft para conceder aos usuários um nível de segurança avançado:</span><span class="sxs-lookup"><span data-stu-id="a56d7-164">HoloLens 2 uses Microsoft services to give users an advanced level of security:</span></span>

* <span data-ttu-id="a56d7-165">o [Defender SmartScreen](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-smartscreen/microsoft-defender-smartscreen-overview) é habilitado automaticamente no Windows Holographic pelo SO e protege contra phishing e malware e também contra o download de arquivos potencialmente mal intencionados, no Microsoft Edge.</span><span class="sxs-lookup"><span data-stu-id="a56d7-165">[Defender SmartScreen](https://docs.microsoft.com/windows/security/threat-protection/microsoft-defender-smartscreen/microsoft-defender-smartscreen-overview) is automatically enabled on Windows Holographic by the OS and protects against phishing and malware, as well as the downloading of potentially malicious files, on Edge.</span></span> <span data-ttu-id="a56d7-166">Ele não pode ser desativado pelo usuário, mas pode ser desabilitado por meio da política de regras.</span><span class="sxs-lookup"><span data-stu-id="a56d7-166">It cannot be turned off by the user but can be disabled through policy.</span></span>

* <span data-ttu-id="a56d7-167">O [Defender Firewall](https://docs.microsoft.com/windows/security/threat-protection/windows-firewall/windows-firewall-with-advanced-security) bloqueia o tráfego de rede não autorizado de fluir de e para seu dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a56d7-167">[Defender Firewall](https://docs.microsoft.com/windows/security/threat-protection/windows-firewall/windows-firewall-with-advanced-security) blocks unauthorized network traffic from flowing to and from your device.</span></span> <span data-ttu-id="a56d7-168">Ele está habilitado por padrão e não pode ser configurado pelo cliente por meio de uma política ou de ações locais.</span><span class="sxs-lookup"><span data-stu-id="a56d7-168">It is enabled by default and not configurable by the customer through local actions or policy.</span></span> 

* <span data-ttu-id="a56d7-169">[Controle de Aplicativo do Windows Defender](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-application-control/wdac-and-applocker-overview): O HoloLens 2 oferece suporte WDAC que permite que o administrador de TI fazer o push de políticas de controle de aplicativo para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a56d7-169">[Windows Defender Application Control](https://docs.microsoft.com/windows/security/threat-protection/windows-defender-application-control/wdac-and-applocker-overview):  HoloLens 2 supports WDAC which allows IT admin to push application control policies onto the device.</span></span> <span data-ttu-id="a56d7-170">Mais informações podem ser encontradas no [Uso de WDAC em dispositivos do HoloLens 2 com o MSFT Intune](https://docs.microsoft.com/mem/intune/configuration/custom-profile-hololens).</span><span class="sxs-lookup"><span data-stu-id="a56d7-170">More info can be found in [Use WDAC on HoloLens 2 devices with MSFT Intune](https://docs.microsoft.com/mem/intune/configuration/custom-profile-hololens).</span></span> 

<span data-ttu-id="a56d7-171">Os administradores de TI podem gerenciar o comportamento do SmartScreen por meio do [AllowSmartScreen](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-browser#browser-allowsmartscreen) e o comportamento do navegador por meio [dessas políticas](https://docs.microsoft.com/windows/client-management/mdm/policy-csps-supported-by-hololens2).</span><span class="sxs-lookup"><span data-stu-id="a56d7-171">IT admins can manage SmartScreen behavior through [AllowSmartScreen](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-browser#browser-allowsmartscreen) and browser behavior through [these policies](https://docs.microsoft.com/windows/client-management/mdm/policy-csps-supported-by-hololens2).</span></span> 

